<!-- Header -->
<div
  class="fixed w-full top-0 z-10 bg-[color-mix(in_srgb,var(--background)_50%,transparent)] backdrop-blur-sm min-h-[56px] flex items-center justify-between p-2">
  <div (click)="navigateBack()"
    class="rounded-full text-[--foreground] hover:bg-[--border] size-10 flex items-center justify-center">
    <ion-icon name="chevron-back-outline" class="w-[24px] h-[48px]"></ion-icon>
  </div>

  <h1
    class="text-2xl text-[--muted-foreground] font-bold absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2">
    Profile</h1>

  <div (click)="navigateBack()"
    class="rounded-full text-[--foreground] hover:bg-[--border] size-10 flex items-center justify-center">
    <ion-icon name="create-outline" class="w-[24px] h-[48px]"></ion-icon>
  </div>
</div>


<!-- Dialog -->
<div class="dialog-overlay fixed inset-0 bg-black flex items-center justify-center" *ngIf="isDialogVisible">
  <dialog #logoutDialog class="bg-[--background] rounded-lg shadow-lg p-4 w-11/12 max-w-md">
    <h1 class="text-2xl font-bold text-[--foreground] mb-2">
      Logout
    </h1>

    <p class="text-[--muted-foreground]">
      Are you sure you want to logout? You will be redirected to the login page.
    </p>

    <div class="flex mt-4 gap-2">
      <button (click)="hideDialog()" class="bg-[--foreground] shadow-md hover:shadow-lg hover:translate-y-[-2px] text-white rounded-lg px-4 py-2 flex-1">Cancel</button>
      <button (click)="onLogout()" class="bg-red-500 text-white shadow-md hover:shadow-lg hover:translate-y-[-2px] rounded-lg px-4 py-2 flex-1">Logout</button>
    </div>
  </dialog>
</div>

<ion-content>

  <div class="mt-16"></div>

  <ion-card class="profile-card">
    <div class="profile-header">
      <div class="size-16 rounded-full overflow-clip bg-white flex items-center justify-center text-2xl font-bold shadow-md">
        <img *ngIf="profileImage() != null" [src]="profileImage()" alt="Profile photo" />
        <div *ngIf="profileImage() == null" clas="text-center size-[100%]">{{user()[0].toUpperCase()}}</div>
      </div>
      <div class="profile-info">
        <h2>{{user()}}</h2>
        <p>Member</p>
      </div>
    </div>

    <div class="contact-info">
      <ion-item lines="none" *ngIf="phone()">
        <ion-icon src="assets/icon/phone.svg" slot="start"></ion-icon>
        <ion-label>{{phone()}}</ion-label>
      </ion-item>
      <ion-item lines="none" *ngIf="email()">
        <ion-icon src="assets/icon/mail.svg" slot="start"></ion-icon>
        <ion-label>{{email()}}</ion-label>
      </ion-item>
    </div>
  </ion-card>

  <div class="bg-[--background] text-[--foreground] shadow-lg mx-4 p-4 rounded-xl flex">
    <div class="hover:cursor-pointer hover:bg-[--border] rounded-xl flex-1 flex items-center justify-center flex-col">
      <h3 class="font-bold text-xl">PHP 12,022</h3>
      <p class="text-[--muted-foreground]">Wallet</p>
    </div>

    <div class="self-stretch w-[2px] bg-[--foreground] mx-2"></div>

    <div class="hover:cursor-pointer hover:bg-[--border] rounded-xl flex-1 flex items-center justify-center flex-col"
      (click)="navigateOrders()">
      <h3 class="font-bold text-xl">12</h3>
      <p class="text-[--muted-foreground]">Orders</p>
    </div>
  </div>

  <ion-list>
    <ion-item button detail="true" (click)="navigateToFavorites()">
      <ion-icon src="assets/icon/favorite.svg" slot="start"></ion-icon>
      <ion-label>
        <h3>Your Favorites</h3>
        <p>Quick access to your go-to items</p>
      </ion-label>
    </ion-item>

    <ion-item button detail="true">
      <ion-icon src="assets/icon/payment.svg" slot="start"></ion-icon>
      <ion-label>
        <h3>Payments</h3>
        <p>Manage payments</p>
      </ion-label>
    </ion-item>

    <ion-item button detail="true">
      <ion-icon src="assets/icon/coupon.svg" slot="start"></ion-icon>
      <ion-label>
        <h3>Vouchers</h3>
        <p>Apply discounts easily</p>
      </ion-label>
    </ion-item>

    <ion-item button detail="true">
      <ion-icon src="assets/icon/share.svg" slot="start"></ion-icon>
      <ion-label>
        <h3>Share</h3>
        <p>Seamlessly connect and spread the word</p>
      </ion-label>
    </ion-item>

    <ion-item button detail="true">
      <ion-icon src="assets/icon/settings.svg" slot="start"></ion-icon>
      <ion-label>
        <h3>Settings</h3>
        <p>Customize and control your experience</p>
      </ion-label>
    </ion-item>

    <ion-item button class="logout-item" (click)="showDialog()">
      <ion-icon src="assets/icon/logout.svg" slot="start"></ion-icon>
      <ion-label>
        <h3>Logout</h3>
        <p>End your session securely</p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
